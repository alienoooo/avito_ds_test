# avito_ds_test
# Avito ASR Number Normalization (solution)

Решение задачи нормализации числительных в ASR-транскрипциях: поиск числовых выражений, записанных словами (в т.ч. с ошибками распознавания), и замена их на цифры **без изменения остального текста**.

Файл с решением: `avito_test2.ipynb`

## Коротко про подход
1. **Токенизация**: текст разбивается на токены по пробелам.
2. **Выделение кандидатов на числительные**: для каждого токена выполняется нормализация (`ё→е`, удаление мусора и т.п.) и проверка, похож ли он на числительное.
3. **Устойчивость к ASR-ошибкам**: шумные токены приводятся к каноническим числительным через `rapidfuzz` + небольшой набор явных исправлений частых ошибок (например, `двеси → двести`).
4. **Парсинг**:
   - кардинальные числа (единицы/десятки/сотни + масштабы `тысяча/миллион/...`) — логика суммирования;
   - порядковые (для дат/номеров) — `первого → 1`, `двадцать второе → 22`;
   - диктовка/перечисления одинакового порядка (например, `двести триста`, `4 700`) — не склеиваются в одно число.
5. **Замена в исходном тексте**: заменяется только найденный спан числительных, остальной текст остаётся неизменным.

## Требования
- Python 3.10+ (подойдёт 3.9+)
- Зависимости:
  - `pandas`
  - `pyarrow` (для чтения `.f`/feather)
  - `rapidfuzz`

Установка:
```bash
pip install -r requirements.txt
